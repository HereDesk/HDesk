(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{356:function(t,e,a){"use strict";a(40);var r=a(304);a(411),a(412),a(413),a(414),a(415),a(376),a(416),e.a={BugQueryChartData:function(t){if(!t)return"";var e={name:[],value:[]},a=new Array,r=new Array;for(var i in t){var s=t[i].name,u=t[i].value;a.push(s),r.push(u)}return e.name=a,e.value=r,e},BugCreateDailyChartData:function(t){if(!t)return"";var e={datetime:[],num:[]},a=t.data,r=new Array,i=new Array;for(var s in a){var u=a[s].datetime,n=a[s].num;"week"===t.type?r.push("周"+(u-1)):"year"===t.type?r.push(u+"月"):"today"===t.type?r.push(u+":00"):r.push(u),i.push(n)}return e.datetime=r,e.num=i,e},CharBarWidth:function(t){var e="24%";return t&&(1===t.length&&(e="5%"),2===t.length&&(e="10%"),3===t.length&&(e="15%"),4===t.length&&(e="20%"),t.length>=5&&(e="22%")),e},BigCharBarWidth:function(t){var e="24%";return t&&(1===t.length&&(e="5%"),2===t.length&&(e="10%"),3===t.length&&(e="13%"),4===t.length&&(e="17%"),t.length>=5&&(e="20%")),e},ChartLine:function(){var t=arguments,e=r.init(document.getElementById(t[0]));e.setOption({title:{text:t[3],left:"center",textStyle:{color:"#000",fontWeight:"300"}},xAxis:{type:"category",data:t[1],axisLine:{show:!0,lineStyle:{color:"#eee"}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{fontSize:13,color:"#616161"}},yAxis:{show:!1},series:[{data:t[2],type:"line",smooth:!0,label:{show:!0,fontSize:10}}]})},ChartBarStack:function(){var t=arguments;r.init(document.getElementById(t[0])).setOption({legend:{data:["已解决","未解决"]},yAxis:{show:!1},xAxis:{type:"category",data:t[1],axisLine:{show:!0,lineStyle:{color:"#eee"}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{fontSize:13,color:"#616161"}},series:[{name:"已解决",type:"bar",stack:"数量",barWidth:t[4],label:{normal:{show:!0,position:"insideBottom"}},itemStyle:{normal:{color:function(t){return["#66C2CB"][t.dataIndex]},barBorderRadius:[1,1,1,1]}},data:t[2]},{name:"未解决",type:"bar",stack:"数量",label:{normal:{show:!0,position:"insideBottom"}},itemStyle:{normal:{color:function(t){return["#F48B31"][t.dataIndex]},barBorderRadius:[1,1,1,1]}},data:t[3]}]})},ChartBar:function(){var t=arguments;r.init(document.getElementById(t[0])).setOption({title:{text:t[4],left:"center",textStyle:{color:"#000",fontWeight:"300"}},xAxis:{data:t[1],type:"category",fontSize:"16",axisLine:{show:!0,lineStyle:{color:"#eee"}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{fontSize:13,color:"#616161"}},yAxis:{show:!1},series:[{barWidth:t[3],name:"数量",type:"bar",data:t[2],label:{show:!0,position:"top",fontSize:15},itemStyle:{normal:{color:function(t){return["#F48B31","#66C2CB","#EF7030","#FBB731","#51C1F0"][t.dataIndex]},barBorderRadius:[15,15,1,1]}}}]})},ChartPie:function(){var t=arguments;console.log(t),r.init(document.getElementById(t[0])).setOption({title:{text:t[2],x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{type:"scroll",orient:"vertical",right:10,top:20,bottom:20,selected:t[1]},color:["#F48B31","#66C2CB","#EF7030","#FBB731","#51C1F0"],series:[{name:"姓名",type:"pie",radius:"55%",center:["50%","50%"],selectedMode:"single",data:t[1],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}}},940:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"page-bug-count"}},[a("div",{staticClass:"mt-5 container pl-0"},[a("nav",{staticClass:"navbar navbar-expand-lg mr-auto"},[a("a",{staticClass:"navbar-brand"},[t._v("缺陷统计分析")]),t._v(" "),a("div",{attrs:{id:"my-cascader"}},[a("el-cascader",{attrs:{options:t.product_list,"change-on-select":""},model:{value:t.SelectedProductReleaseInfo,callback:function(e){t.SelectedProductReleaseInfo=e},expression:"SelectedProductReleaseInfo"}})],1)])]),t._v(" "),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"col-xl-9 col-lg-9 col-md-9 col-sm-12 col-12 py-5"},[a("div",{staticClass:"row",attrs:{id:"DataDays"}},[t._m(1),t._v(" "),a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[a("ul",{staticClass:"ul-inline ul-datetime px-0 mb-0 pl-3",staticStyle:{float:"right"}},[a("li",{class:{SelectedType:"today"==t.BugCreateDailyChartData.type},on:{click:function(e){t.ClickDate(e)}}},[t._v("今天")]),t._v(" "),a("li",{class:{SelectedType:"week"==t.BugCreateDailyChartData.type},on:{click:function(e){t.ClickDate(e)}}},[t._v("本周")]),t._v(" "),a("li",{class:{SelectedType:"month"==t.BugCreateDailyChartData.type},on:{click:function(e){t.ClickDate(e)}}},[t._v("本月")]),t._v(" "),a("li",{class:{SelectedType:"year"==t.BugCreateDailyChartData.type},on:{click:function(e){t.ClickDate(e)}}},[t._v("今年")]),t._v(" "),a("li",{attrs:{id:"count_date_input"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.QueryBugCreate.start_date,expression:"QueryBugCreate.start_date"}],staticStyle:{width:"45%"},attrs:{type:"date"},domProps:{value:t.QueryBugCreate.start_date},on:{input:function(e){e.target.composing||t.$set(t.QueryBugCreate,"start_date",e.target.value)}}}),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.QueryBugCreate.end_date,expression:"QueryBugCreate.end_date"}],staticStyle:{width:"45%"},attrs:{type:"date"},domProps:{value:t.QueryBugCreate.end_date},on:{input:function(e){e.target.composing||t.$set(t.QueryBugCreate,"end_date",e.target.value)}}})])])]),t._v(" "),t._m(2)]),t._v(" "),a("div",{staticClass:"dropdown-divider my-5",attrs:{id:"DataTest"}}),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"dropdown-divider my-5",attrs:{id:"DataDev"}}),t._v(" "),t._m(4),t._v(" "),a("div",{staticClass:"dropdown-divider my-5",attrs:{id:"DataBugStatus"}}),t._v(" "),t._m(5),t._v(" "),a("div",{staticClass:"dropdown-divider my-5",attrs:{id:"DataSeverityType"}}),t._v(" "),t._m(6),t._v(" "),a("div",{staticClass:"dropdown-divider my-5",attrs:{id:"DataPriorityType"}}),t._v(" "),t._m(7),t._v(" "),a("div",{staticClass:"dropdown-divider my-5",attrs:{id:"DataBugType"}}),t._v(" "),t._m(8)])])])])};r._withStripped=!0;a(40);var i=a(4),s=a.n(i),u=a(356),n={name:"BugCount",head:function(){return{title:"HDesk - 缺陷统计"}},layout:"head",data:function(){return{product_list:[],SelectedProductReleaseInfo:[],QueryBugCreate:{type:"month",start_date:null,end_date:null,product_code:null,version:null},QueryBugStatus:{type:"status",product_code:null,version:null},QueryBugType:{type:"bug_type",product_code:null,version:null},QueryBugSeverity:{type:"severity",product_code:null,version:null},QueryBugPriority:{type:"priority",product_code:null,version:null},QueryBugTester:{product_code:null,version:null},QueryBugDeveloper:{product_code:null,version:null},BugCreateDailyChartData:[],BugStatusChartData:[],BugSeverityChartData:[],BugPriorityChartData:[],BugTesterChartData:[],devloperName:[],devFixed:[],devNotFixed:[],BugTypeChartData:[]}},computed:{chart1:function(){return u.a.BugCreateDailyChartData(this.BugCreateDailyChartData)},chart2:function(){return u.a.BugQueryChartData(this.BugStatusChartData)},chart3:function(){return u.a.BugQueryChartData(this.BugSeverityChartData)},chart4:function(){return u.a.BugQueryChartData(this.BugPriorityChartData)},chart5:function(){return u.a.BugQueryChartData(this.BugTypeChartData)}},watch:{SelectedProductReleaseInfo:{handler:function(t,e){var a=this.SelectedProductReleaseInfo;this.$router.push({path:"/app/qa/bug/count",query:{product_code:a[0],version:a[1]}}),this.QueryBugCreate.product_code=a[0],this.QueryBugCreate.version=a[1],this.getBugStatusData(),this.getBugSeverityData(),this.getBugPriorityData(),this.getBugTesterData(),this.getBugDevloperData(),this.getBugTypeData()},deep:!0},QueryBugCreate:{handler:function(t,e){var a=this.QueryBugCreate.type,r=this.QueryBugCreate.start_date,i=this.QueryBugCreate.end_date;"year"!==a&&"month"!==a&&"week"!==a&&"today"!==a||this.getBugCreateDaily(),r&&i&&(this.QueryBugCreate.type="section",this.getBugCreateDaily())},deep:!0},chart1:function(t,e){var a=this.chart1.datetime,r=this.chart1.num,i=u.a.BigCharBarWidth(r);"year"===this.BugCreateDailyChartData.type?u.a.ChartBar("bug-create-chart",a,r,i):u.a.ChartLine("bug-create-chart",a,r)},chart2:function(t,e){var a=this.chart2.name,r=this.chart2.value,i=u.a.CharBarWidth(r);u.a.ChartBar("bug-status-chart",a,r,i)},chart3:function(t,e){var a=this.chart3.name,r=this.chart3.value,i=u.a.CharBarWidth(r);u.a.ChartBar("bug-severity-chart",a,r,i)},chart4:function(t,e){var a=this.chart4.name,r=this.chart4.value,i=u.a.CharBarWidth(r);u.a.ChartBar("bug-priority-chart",a,r,i)},chart5:function(t,e){var a=this.chart5.name,r=this.chart5.value,i=u.a.CharBarWidth(r);u.a.ChartBar("bug-type-chart",a,r,i)},BugTesterChartData:{handler:function(t,e){u.a.ChartPie("bug-tester-chart",this.BugTesterChartData)},deep:!0},devloperName:function(t,e){var a=u.a.BigCharBarWidth(this.devloperName);u.a.ChartBarStack("bug-dev-chart",this.devloperName,this.devFixed,this.devNotFixed,a)}},created:function(){this.$route.query.product_code&&this.SelectedProductReleaseInfo.push(this.$route.query.product_code),this.getProductRelease()},methods:{getProductRelease:function(){var t=this;s.a.get("/api/pm/new_product_release").then(function(e){2e4===e.data.status?(t.product_list=e.data.data,e.data.data.length>0&&0===t.SelectedProductReleaseInfo.length&&t.SelectedProductReleaseInfo.push(t.product_list[0].value)):t.product_msg=e.data.msg})},handleCommand:function(t){this.current_product_code=t.product_code},getBugCreateDaily:function(){var t=this;s.a.get("/api/analyze/bug/date/create",{params:this.QueryBugCreate}).then(function(e){t.BugCreateDailyChartData=e.data})},getBugStatusData:function(){var t=this;this.QueryBugStatus.product_code=this.SelectedProductReleaseInfo[0],this.QueryBugStatus.version=this.SelectedProductReleaseInfo[1],s.a.get("/api/analyze/bug/query",{params:this.QueryBugStatus}).then(function(e){t.BugStatusChartData=e.data.data})},getBugSeverityData:function(){var t=this;this.QueryBugSeverity.product_code=this.SelectedProductReleaseInfo[0],this.QueryBugSeverity.version=this.SelectedProductReleaseInfo[1],s.a.get("/api/analyze/bug/query",{params:this.QueryBugSeverity}).then(function(e){t.BugSeverityChartData=e.data.data})},getBugPriorityData:function(){var t=this;this.QueryBugPriority.product_code=this.SelectedProductReleaseInfo[0],this.QueryBugPriority.version=this.SelectedProductReleaseInfo[1],s.a.get("/api/analyze/bug/query",{params:this.QueryBugPriority}).then(function(e){t.BugPriorityChartData=e.data.data})},getBugTypeData:function(){var t=this;this.QueryBugType.product_code=this.SelectedProductReleaseInfo[0],this.QueryBugType.version=this.SelectedProductReleaseInfo[1],s.a.get("/api/analyze/bug/query",{params:this.QueryBugType}).then(function(e){t.BugTypeChartData=e.data.data})},getBugTesterData:function(){var t=this;this.QueryBugTester.product_code=this.SelectedProductReleaseInfo[0],this.QueryBugTester.version=this.SelectedProductReleaseInfo[1],s.a.get("/api/analyze/bug/tester",{params:this.QueryBugTester}).then(function(e){t.BugTesterChartData=e.data.data})},getBugDevloperData:function(){var t=this;this.QueryBugDeveloper.product_code=this.SelectedProductReleaseInfo[0],this.QueryBugDeveloper.version=this.SelectedProductReleaseInfo[1],s.a.get("/api/analyze/bug/developer",{params:this.QueryBugDeveloper}).then(function(e){if(2e4===e.data.status){var a=e.data.data;for(var r in a)a[r].name&&(t.devloperName.push(a[r].name),t.devFixed.push(a[r].fixed_num),t.devNotFixed.push(a[r].not_fixed_num))}else t.$notify.error({title:"失败",message:e.data.msg})})},ClickDate:function(t){this.QueryBugCreate.start_date=null,this.QueryBugCreate.end_date=null;var e=t.target.innerText;"今天"===e&&(this.QueryBugCreate.type="today"),"本周"===e&&(this.QueryBugCreate.type="week"),"本月"===e&&(this.QueryBugCreate.type="month"),"今年"===e&&(this.QueryBugCreate.type="year")}}},o=a(10),l=Object(o.a)(n,r,[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-3 col-lg-3 col-md-3 col-sm-12 col-12"},[a("ul",{staticClass:"pl-0 ul_link position-fixed"},[a("li",[a("a",{attrs:{href:"#DataDays"}},[t._v("缺陷趋势分析")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#DataTest"}},[t._v("测试人员BUG统计")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#DataDev"}},[t._v("研发人员BUG统计")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#DataBugStatus"}},[t._v("缺陷状态分析")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#DataSeverityType"}},[t._v("缺陷严重程度分析")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#DataPriorityType"}},[t._v("缺陷优先级分析")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#DataBugType"}},[t._v("缺陷类型分析")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12"},[e("h5",{staticClass:"lead pl-3 pt-2"},[this._v("缺陷趋势分析")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12",staticStyle:{height:"22rem"}},[e("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"bug-create-chart"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h5",{staticClass:"lead pl-3"},[this._v("测试人员BUG统计")]),this._v(" "),e("div",{staticStyle:{height:"25rem"}},[e("div",{staticStyle:{height:"100%",width:"100%"},attrs:{id:"bug-tester-chart"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h5",{staticClass:"lead pl-3"},[this._v("研发人员BUG解决情况统计")]),this._v(" "),e("div",{staticClass:"mt-5",staticStyle:{height:"22rem"}},[e("div",{staticStyle:{height:"100%",width:"100%"},attrs:{id:"bug-dev-chart"}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h5",{staticClass:"lead pl-3"},[this._v("缺陷状态分析")]),this._v(" "),e("div",{staticStyle:{height:"22rem",width:"100%"},attrs:{id:"bug-status-chart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h5",{staticClass:"lead pl-3"},[this._v("缺陷严重程度分析")]),this._v(" "),e("div",{staticStyle:{height:"22rem",width:"100%"},attrs:{id:"bug-severity-chart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h5",{staticClass:"lead pl-3"},[this._v("缺陷优先级分析")]),this._v(" "),e("div",{staticStyle:{height:"22rem",width:"100%"},attrs:{id:"bug-priority-chart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("h5",{staticClass:"lead pl-3"},[this._v("缺陷类型分析")]),this._v(" "),e("div",{staticStyle:{height:"22rem",width:"100%"},attrs:{id:"bug-type-chart"}})])])}],!1,null,null,null);l.options.__file="count.vue";e.default=l.exports}}]);