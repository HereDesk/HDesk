(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{943:function(t,s,a){"use strict";a.r(s);var o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container"},[a("div",{staticClass:"row",staticStyle:{"margin-top":"10%"},attrs:{id:"setpasswd"}},[a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4 col-12 offset-xl-4 col-lg-4 offset-md-4"},[a("div",{staticClass:"form-group input-group-control"},[a("label",{attrs:{for:"oldPassword"}},[t._v("旧密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.passwdData.oldPassword,expression:"passwdData.oldPassword",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",id:"oldPassword",name:"oldPassword",placeholder:"旧密码",maxlength:"16",minlength:"8",required:""},domProps:{value:t.passwdData.oldPassword},on:{input:function(s){s.target.composing||t.$set(t.passwdData,"oldPassword",s.target.value.trim())},blur:function(s){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"form-group input-group-control"},[a("label",{attrs:{for:"newPassword"}},[t._v("新密码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.passwdData.newPassword,expression:"passwdData.newPassword",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",id:"newPassword",name:"newPassword",placeholder:"新密码不能为纯数字",maxlength:"16",minlength:"8",required:""},domProps:{value:t.passwdData.newPassword},on:{input:function(s){s.target.composing||t.$set(t.passwdData,"newPassword",s.target.value.trim())},blur:function(s){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"form-group input-group-control mt-5"},[a("input",{staticClass:"btn btn-control",class:{"btn-secondary":!t.isButtonStatus,"btn-primary":t.isButtonStatus},attrs:{type:"submit",disabled:!t.isButtonStatus},on:{click:t.SubmitPasswd}})])])])])};o._withStripped=!0;a(41);var e=a(4),r=a.n(e),n={head:function(){return{title:"HDesk - 修改密码"}},layout:"head",computed:{isButtonStatus:function(){return!(!this.passwdData.oldPassword||!this.passwdData.newPassword)||null}},data:function(){return{msg:"",showModal:!1,passwdData:{oldPassword:null,newPassword:null}}},methods:{HandLogout:function(){window.localStorage.removeItem("token"),document.cookie="token=; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/",window.location.replace("/")},SubmitPasswd:function(){var t=this.passwdData.newPassword,s=this.passwdData.oldPassword;if(t.length<8|t.length>16)this.$notify.error({title:"错误",message:"密码的有效长度为8到16位"});else if(0!==s.length){var a=this;r()({method:"post",url:"/api/user/setpasswd",data:JSON.stringify(a.passwdData)}).then(function(t){2e4===t.data.status&&(a.$notify.error({title:"修改成功",message:t.data.msg}),a.HandLogout()),2e4!==t.data.status&&a.$notify.error({title:"修改失败",message:t.data.msg})})}else this.$notify.error({title:"错误",message:"旧密码不能为空！"})}}},i=a(10),d=Object(i.a)(n,o,[],!1,null,null,null);d.options.__file="passwd.vue";s.default=d.exports}}]);