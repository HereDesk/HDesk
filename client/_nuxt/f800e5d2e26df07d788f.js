(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{458:function(t,e,n){var a=n(924);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,n(20).default)("d4be674c",a,!1,{sourceMap:!1})},923:function(t,e,n){"use strict";var a=n(458);n.n(a).a},924:function(t,e,n){(t.exports=n(19)(!1)).push([t.i,"\n.btn-login{background-color:#4285f4;border-color:#4285f4;color:#fff\n}\n.p-user-login-title{font-weight:300;margin-bottom:2rem\n}\n.p-user-login-main{margin-top:10%;text-align:center\n}\n@media (max-width:414px){\n.user-register-title{margin-left:0;margin-right:0\n}\n}\n@media (max-width:414px){\n.page-part-line{border-right:1px solid #fff\n}\n}\n::-webkit-input-placeholder{font-size:1.1rem\n}\n:-moz-placeholder,::-moz-placeholder{font-size:1.1rem\n}\n:-ms-input-placeholder{font-size:1.1rem\n}\n.passwd{margin-top:1.3rem\n}\n.submit_btn{margin-left:20%;margin-right:10%\n}\n.login-btn,.submit_btn{margin-top:2rem\n}",""])},948:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container mt-5",attrs:{id:"p-user-login"}},[n("div",{staticClass:"row"},[t._m(0),t._v(" "),n("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-12 p-user-login-main"},[n("div",{staticClass:"col-xl-4 col-lg-6 col-md-6 col-sm-12 col-12 offset-lg-3 offset-md-3 offset-xl-4"},[n("h2",{staticClass:"p-user-login-title"},[t._v("欢迎登录")]),t._v(" "),n("div",{staticClass:"input-group input-group-lg",attrs:{id:"input-email"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.username,expression:"LoginData.username"}],staticClass:"form-control",attrs:{type:"email",id:"user_name",name:"email",maxlength:"30",minlength:"6",placeholder:"电子邮件"},domProps:{value:t.LoginData.username},on:{input:function(e){e.target.composing||t.$set(t.LoginData,"username",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"input-group input-group-lg passwd",attrs:{id:"input-passwd"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.LoginData.password,expression:"LoginData.password"}],staticClass:"form-control",attrs:{type:"password",id:"user_passwd",name:"user_passwd",maxlength:"30",minlength:"6",placeholder:"输入密码"},domProps:{value:t.LoginData.password},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.goLogin(e):null},input:function(e){e.target.composing||t.$set(t.LoginData,"password",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"login-btn"},[n("button",{staticClass:"btn btn-login btn-lg btn-block",attrs:{id:"user_login_btn",type:"button"},on:{click:t.goLogin}},[t._v("登录")])])])])])])};a._withStripped=!0;n(41);var o=n(4),s=n.n(o),i=n(67),r={data:function(){return{token:"",showModal:!1,msg:"",LoginData:{username:"",password:""}}},mounted:function(){Object(i.a)()&&this.$router.push("/app/dashboard")},methods:{goLogin:function(){var t=this,e=t.LoginData.username,n=t.LoginData.password;0!==e.replace(/^s+/g,"").length?(e.length>30|e.length<6&&t.$notify.error({title:"提交失败",message:"用户名长度需在6到30位之间"}),0===n.replace(/^s+/g,"").length&&t.$notify.error({title:"提交失败",message:"密码不能为空哦"}),n.length>30|n.length<6?t.$notify.error({title:"提交失败",message:"密码长度需在6到30位之间"}):s()({method:"post",url:"/api/user/login",data:JSON.stringify(this.LoginData)}).then(function(e){if(1e4===e.data.status){var n=e.data.data.token;window.localStorage.setItem("token",n);var a=new Date;a.setTime(a.getTime()+2592e6),document.cookie="token="+n+";expires="+a.toGMTString()+";path=/",t.$store.commit("setUserInfo",e.data),t.$router.replace("/app/dashboard")}1e4!==e.data.status&&(t.LoginData.username="",t.LoginData.password="",t.$notify.error({title:"登录失败",message:e.data.msg}))}).catch(function(t){console.log(t),alert("请检查网络、或配置文件,或联系管理员")})):t.$notify.error({title:"提交失败",message:"用户名不为空哦"})}}},l=(n(923),n(10)),g=Object(l.a)(r,a,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-12",staticStyle:{float:"right"}},[e("h1",[this._v("HDesk")])])}],!1,null,null,null);g.options.__file="index.vue";e.default=g.exports}}]);