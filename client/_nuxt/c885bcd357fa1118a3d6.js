(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{455:function(t,e,a){var r=a(916);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);(0,a(20).default)("1d851ed0",r,!1,{sourceMap:!1})},915:function(t,e,a){"use strict";var r=a(455);a.n(r).a},916:function(t,e,a){(t.exports=a(19)(!1)).push([t.i,"\n#bug_report input{border:none!important\n}",""])},931:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row text-center",staticStyle:{"margin-top":"15%"}},[a("div",{staticClass:"col"},[a("h3",[t._v("自动生成缺陷报告")]),t._v(" "),a("p",{staticClass:"mt-5"},[t._v("按照缺陷信息自动生成报告，反映一定时期内产品质量状况")]),t._v(" "),a("div",{staticClass:"mt-5",attrs:{id:"bug_report"}},["日报"===t.DayReportText||"周报"===t.DayReportText?a("el-select",{staticClass:"col-sm-3 col-5 px-0 mr-3",staticStyle:{width:"8rem"},attrs:{placeholder:"选择产品"},model:{value:t.request_data.product_code,callback:function(e){t.$set(t.request_data,"product_code",e)},expression:"request_data.product_code"}},t._l(t.product_list,function(t){return a("el-option",{key:t.product_code,attrs:{label:t.product_code,value:t.product_code}})})):t._e(),t._v(" "),t.DayReportId?t._e():a("button",{staticClass:"btn btn-create mr-3 animated",class:{"flipInX infinite bg-00BFA5":"获取中"===t.DayReportText},attrs:{type:"btn"},on:{click:function(e){t.generateReport("day")}}},[t._v("\n          "+t._s(t.DayReportText)+"\n        ")]),t._v(" "),t.DayReportId?a("button",{staticClass:"btn btn-create mr-3",attrs:{type:"btn"},on:{click:function(e){t.lookReport("day")}}},[t._v("\n          查看日报\n        ")]):t._e(),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.WeekDay,expression:"WeekDay"}],staticClass:"btn btn-create",attrs:{type:"btn"},on:{click:function(e){t.generateReport("week")}}},[t._v("\n          "+t._s(t.WeekReportText)+"\n        ")])],1)])])])};r._withStripped=!0;var o=a(4),n=a.n(o),s={layout:"head",data:function(){return{product_list:[],progress:null,DayReportText:"日报",WeekReportText:"周报",request_data:{type:null,product_code:null},DayReportId:null}},computed:{WeekDay:function(){var t=(new Date).getDay();return 5===t||null}},created:function(){this.getProductRelease()},methods:{getProductRelease:function(){var t=this;n.a.get("/api/pm/product_release").then(function(e){2e4===e.data.status&&(t.product_list=e.data.data,t.request_data.product_code=e.data.data[0].product_code)})},lookReport:function(t){this.$router.push("/app/qa/bug/report_details?report_id="+this.DayReportId)},generateReport:function(t){var e=t,a=this;"day"==e&&(this.request_data.type="day",this.DayReportText="获取中"),"week"===e&&(this.request_data.type="week",this.WeekReportText="获取中"),n.a.get("/api/qa/bug/report/generate",{params:this.request_data}).then(function(t){2e4===t.data.status?a.DayReportId=t.data.report_id:a.DayReportText="日报"})}}},c=(a(915),a(10)),i=Object(c.a)(s,r,[],!1,null,null,null);i.options.__file="report.vue";e.default=i.exports}}]);