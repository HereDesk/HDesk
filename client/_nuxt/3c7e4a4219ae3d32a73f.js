(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{305:function(t,e,a){var i=a(322);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(20).default)("44fe81ac",i,!1,{sourceMap:!1})},307:function(t,e,a){"use strict";a(40),a(41);e.a={txt_deal_with:function(t){return t.replace(/(((https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/gi,function(t){return'<a href="'+t+'" target="_blank">'+t+"</a>"})},getWeek:function(t){return t?new Date(t).getDay():""},date:function(t,e){if(!t)return"";var a=new Date(t),i=a.getFullYear(),n=a.getMonth()+1,s=a.getDate(),o=a.getHours(),r=a.getMinutes(),l=a.getSeconds(),d=function(t){return/^\d$/.test(t)?"0"+t:t};return e&&1!=e?2==e?d(n)+"/"+d(s)+" "+d(o)+":"+d(r):3==e?i+"-"+d(n)+"-"+d(s):4==e?d(o)+":"+d(r)+":"+d(l):5==e?d(i)+"/"+d(n)+"/"+d(s):void 0:i+"-"+d(n)+"-"+d(s)+" "+d(o)+":"+d(r)+":"+d(l)},bugStatusName:function(t){var e,a=[{code:"all",name:"全部"},{code:"New",name:"新建未分配"},{code:"Open",name:"待解决"},{code:"Reopen",name:"重新打开"},{code:"Hang-up",name:"挂起延期"},{code:"Fixed",name:"已解决"},{code:"Closed",name:"已关闭"}];for(e in a)if(a[e].code==t)return a[e].name},getOperatorsName:function(t){var e,a=[{value:"=",name:"="},{value:"!=",name:"!="},{value:">=",name:">="},{value:"<=",name:"<="},{value:">",name:">"},{value:"<",name:"<"},{value:"and",name:"and"},{value:"or",name:"or"},{value:"range",name:"范围"}];for(e in a)if(a[e].value==t)return a[e].name},getSearchTypeName:function(t){var e,a=[{value:"ID",name:"缺陷ID"},{value:"title",name:"缺陷标题"},{value:"priority",name:"优先级"},{value:"severity",name:"严重程度"},{value:"bug_type",name:"缺陷类型"},{value:"creator_user",name:"创建者"},{value:"closed_user",name:"关闭者"},{value:"fixed_user",name:"解决者"},{value:"assignedTo_user",name:"指派谁"},{value:"create_time",name:"创建日期"},{value:"closed_time",name:"关闭日期"},{value:"fixed_time",name:"解决日期"}];for(e in a)if(a[e].value==t)return a[e].name},QuickQperationName:function(t){var e,a=[{value:"no",name:"无"},{value:"WaitPending",name:"待我处理"},{value:"AssignedByMe",name:"指派给我"},{value:"ResolvedByMe",name:"我解决的"},{value:"ClosedByMe",name:"我关闭的"},{value:"CreatedByMe",name:"我创建的"},{value:"notClosed",name:"未关闭的"},{value:"NotResolved",name:"未解决的"},{value:"HighPriority",name:"高优先级"}];for(e in a)if(a[e].value==t)return a[e].name},flowdesc:function(t){var e,a=[{status:-1,name:"不涉及此项"},{status:0,name:"未开始"},{status:1,name:"设计中"},{status:2,name:"开发中"},{status:3,name:"开发完成"},{status:4,name:"待调试"},{status:5,name:"调试中"},{status:6,name:"调试"},{status:7,name:"进入测试"},{status:8,name:"测试中"},{status:9,name:"存在Bug"},{status:10,name:"修复Bug中"},{status:11,name:"回归Bug"},{status:12,name:"测试通过"},{status:13,name:"已上线"}];for(e in a)if(a[e].status==t)return a[e].name}}},321:function(t,e,a){"use strict";var i=a(305);a.n(i).a},322:function(t,e,a){(t.exports=a(19)(!1)).push([t.i,"\n.main-loading-page{padding:15%;text-align:center\n}\n@media (max-width:576px){\n.main-loading-page{margin-top:50%\n}\n}\n.loading h1{color:#ccc;font-size:1.4rem;letter-spacing:.1em\n}\n.loading span:nth-of-type(2){-webkit-animation-delay:.2s;animation-delay:.2s;background:#008fb2\n}\n.loading span:nth-of-type(3){-webkit-animation-delay:.4s;animation-delay:.4s;background:#009b9e\n}\n.loading span:nth-of-type(4){-webkit-animation-delay:.6s;animation-delay:.6s;background:#00a77d\n}\n.loading span:nth-of-type(5){-webkit-animation-delay:.8s;animation-delay:.8s;background:#00b247\n}\n.loading span:nth-of-type(6){-webkit-animation-delay:1s;animation-delay:1s;background:#5ab027\n}\n.loading span:nth-of-type(7){-webkit-animation-delay:1.2s;animation-delay:1.2s;background:#a0b61e\n}\n.loading span{-webkit-animation:loading 1s infinite alternate;animation:loading 1s infinite alternate;background:#007db6;border-radius:.6em;display:inline-block;height:.7em;margin:.19em;vertical-align:middle;width:.7em\n}\n@-webkit-keyframes loading{\n0%{opacity:0\n}\nto{opacity:1\n}\n}\n@keyframes loading{\n0%{opacity:0\n}\nto{opacity:1\n}\n}",""])},324:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"loading"}},[a("div",{staticClass:"main-loading-page loading"},[a("h1",[t._v("Loading")]),t._v(" "),a("span"),t._v(" "),a("span"),t._v(" "),a("span"),t._v(" "),a("span"),t._v(" "),a("span"),t._v(" "),a("span"),t._v(" "),a("span")])])],1)};i._withStripped=!0;a(321);var n=a(10),s=Object(n.a)({},i,[],!1,null,null,null);s.options.__file="loading.vue";e.a=s.exports},441:function(t,e,a){var i=a(834);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(20).default)("8c0667ac",i,!1,{sourceMap:!1})},459:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"componentsResolve",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.mtitle))])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group row col-md-auto mx-3"},[a("label",{attrs:{for:"solution"}},[t._v("解决方案")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.scheme,expression:"scheme"}],staticClass:"select-control border",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.scheme=e.target.multiple?a:a[0]}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("请选择")]),t._v(" "),t._l(t.solution_list,function(e){return a("option",{key:e.id,domProps:{value:e.key}},[t._v(t._s(e.name))])})],2)]),t._v(" "),a("div",{staticClass:"form-group row col-md-auto mx-3"},[a("label",{attrs:{for:"assignedTo"}},[t._v("指派给")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.ResolveData.assignedTo,expression:"ResolveData.assignedTo"}],staticClass:"select-control border",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.ResolveData,"assignedTo",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("请选择")]),t._v(" "),t._l(t.person_list,function(e){return a("option",{key:e.id,domProps:{value:e.user_id}},[t._v(t._s(e.realname))])})],2)]),t._v(" "),a("div",{staticClass:"form-group row col-md-auto mx-3"},[a("label",{attrs:{for:"remark"}},[t._v("备注")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ResolveData.remark,expression:"ResolveData.remark"}],staticClass:"textarea-control form-border-bottom",attrs:{type:"text",rows:"5",placeholder:"请输入备注..."},domProps:{value:t.ResolveData.remark},on:{input:function(e){e.target.composing||t.$set(t.ResolveData,"remark",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-cancel",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.MoreRecovered()}}},[t._v("提交")])])])])])};i._withStripped=!0;var n=a(4),s=a.n(n),o={props:{bug_id:String,OpenBy:String,product_code:String,scheme:String,pageSource:String,member_list:{}},data:function(){return{person_list:[],ResolveData:{bug_id:"",assignedTo:"",reamrk:"",solution:"Fixed"}}},computed:{mtitle:function(){return"Postponed"===this.scheme?"延期解决缺陷":"解决缺陷"},solution_list:function(){return this.$store.state.BugSolutionList}},created:function(){void 0===this.member_list?this.getMemberList():this.person_list=this.member_list},mounted:function(){this.$store.state.BugSolutionList?this.solution_list=this.$store.state.BugSolutionList:this.$store.dispatch("getBugSolution")},methods:{getMemberList:function(){var t=this;s.a.get("/api/pm/member/list?product_code="+t.product_code).then(function(e){2e4===e.data.status&&(t.person_list=e.data.data)})},MoreRecovered:function(){var t=this;this.ResolveData.bug_id=this.bug_id,this.ResolveData.solution=this.scheme,s()({method:"post",url:"/api/qa/bug/resolve",data:JSON.stringify(this.ResolveData)}).then(function(e){2e4===e.data.status?("page_bug_index"===t.pageSource&&t.$emit("refreshList"),"page_bug_details"===t.pageSource&&t.$router.push("/app/qa/bug"),$("#componentsResolve").modal("hide"),t.$notify.success({title:"成功",message:e.data.msg})):t.$notify.error({title:"错误",message:e.data.msg})})}}},r=a(10),l=Object(r.a)(o,i,[],!1,null,null,null);l.options.__file="BugResolve.vue";e.a=l.exports},460:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"componentsAssign",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group row col-md-auto mx-3"},[a("label",{attrs:{for:"assignedTo"}},[t._v("分配")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.AssignData.assignedTo,expression:"AssignData.assignedTo"}],staticClass:"select-control border",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.AssignData,"assignedTo",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("请选择")]),t._v(" "),t._l(t.person_list,function(e){return a("option",{key:e.id,domProps:{value:e.user_id}},[t._v(t._s(e.realname))])})],2)]),t._v(" "),a("div",{staticClass:"form-group row col-md-auto mx-3"},[a("label",{attrs:{for:"remark"}},[t._v("备注")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.AssignData.remark,expression:"AssignData.remark"}],staticClass:"textarea-control form-border-bottom",attrs:{type:"text",rows:"5",placeholder:"请输入备注..."},domProps:{value:t.AssignData.remark},on:{input:function(e){e.target.composing||t.$set(t.AssignData,"remark",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-cancel",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.assign()}}},[t._v("提交")])])])])])};i._withStripped=!0;var n=a(4),s=a.n(n),o={props:{bug_id:String,product_code:String,pageSource:String,member_list:{}},data:function(){return{person_list:[],AssignData:{bug_id:"",assignedTo:"",remark:""}}},mounted:function(){void 0===this.member_list?this.getMemberList():this.person_list=this.member_list},methods:{getMemberList:function(){var t=this;s.a.get("/api/pm/member/list?product_code="+t.product_code).then(function(e){2e4===e.data.status&&(t.person_list=e.data.data)})},assign:function(){var t=this;if(""===t.AssignData.assignedTo)return t.$notify.error({title:"数据校验",message:"请选择分配人"});t.AssignData.bug_id=this.bug_id,s()({method:"post",url:"/api/qa/bug/assign",data:JSON.stringify(t.AssignData)}).then(function(e){2e4===e.data.status?($("#componentsAssign").modal("hide"),"page_bug_index"===t.pageSource&&t.$emit("refreshList"),"page_bug_details"===t.pageSource&&t.$router.go(-1),t.$notify.success({title:"成功",message:e.data.msg})):t.$notify.error({title:"失败",message:e.data.msg})})}}},r=a(10),l=Object(r.a)(o,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("分配缺陷")])])}],!1,null,null,null);l.options.__file="BugAssign.vue";e.a=l.exports},833:function(t,e,a){"use strict";var i=a(441);a.n(i).a},834:function(t,e,a){(t.exports=a(19)(!1)).push([t.i,"\n@media (min-width:768px){\n.mobile-action-bar{margin-right:2rem\n}\n}\n@media (max-width:575.98px){\n.mobile-action-bar{margin-left:1rem;margin-top:1rem!important\n}\n}\n@media (min-width:1200px){\n.bd-sidebar{flex:0 1 320px\n}\n}\n@media (min-width:768px){\n.bd-sidebar{border-right:1px solid rgba(0,0,0,.1);height:calc(100vh - 4rem);position:-webkit-sticky;position:sticky;top:4rem;z-index:1000\n}\n}\n.bd-sidebar{border-bottom:1px solid rgba(0,0,0,.1);order:0\n}\n.countdata-title{font-size:1.4rem;font-weight:500;margin-bottom:2rem;text-align:center\n}\n.countdata-num{color:#2b2b2b;font-size:2.5rem\n}\n.countdata-desc{color:#757575;font-size:.95rem;font-weight:300\n}\n.center-circle{background-color:#fff;border-radius:50%;height:6.6rem;line-height:6.6rem;width:6.6rem\n}\n.center-circle-success{border:.5rem solid red\n}\n.center-circle>.center-circle-text{position:relative;text-align:center\n}\n.satellite_info{color:#707070!important;font-size:.95rem!important\n}\n.satellite_info label{line-height:1.8rem;margin-right:1rem;min-width:5rem;text-align:left\n}\n.standline{background-color:#673ab7\n}\n.redline,.standline{float:left;height:1.1rem;width:3px\n}\n.redline{background-color:#f44336\n}\n.successline{background-color:#4caf50\n}\n.grayline,.successline{float:left;height:1.1rem;width:3px\n}\n.grayline{background-color:#b1bec6\n}\n.page-bug-add-title img{display:inline-block;float:right;height:33px;margin:1rem 1rem 1rem 0;width:33px\n}\n.page-bug-add-title h3{display:inline-block;font-weight:300!important;margin:1rem 0\n}\n.bug-label{text-align:right!important\n}\n@media (max-width:576px){\n.bug-label{text-align:left!important\n}\n}\n@media (max-width:768px){\n#bug-search,#TestCaseSearchInput{display:none\n}\n}\n@media (max-width:414px){\n#TestCaseTodayCount{display:none\n}\n}\n.hiddenSearch{display:none;visibility:hidden\n}\n.showSearch{display:flex;visibility:visible\n}\n.searchIcon img{height:24px;width:24px\n}\n.tableOpreate{display:none\n}\n.showBugOpreate{background-color:inherit;display:inline;margin-left:-7rem;margin-top:-1rem;position:absolute\n}\n.showBugOpreate button{background:inherit;border:none;display:inline-block;outline:none;z-index:9999\n}\n.showCaseOpreate{background-color:inherit;display:inline;margin-left:-5rem;margin-top:-1rem;position:absolute\n}\n.showCaseOpreate button{background:inherit;border:none;display:inline-block;margin-right:.5rem;outline:none;z-index:9999\n}\n.details-title{color:#333;font-size:1.35rem;font-weight:400!important;line-height:2rem\n}\n@media(max-width:576px){\n.bug-details-title{font-size:1.2rem\n}\n}\n.bug-details-minor-title{color:#333;font-size:1.1rem;font-weight:500\n}\n.details-block{background-color:#fafafa;border-radius:5px;color:#2b2b2b;font-size:.94rem;line-height:2rem;margin-top:1rem;padding:1rem\n}\n.details-block a{color:#2973b7!important\n}\n#testcase-modules .el-input__inner{height:2.5rem!important\n}\n.pg-modules{border-right:1px solid #eee\n}\n@media (max-width:576px){\n.pg-modules{display:none\n}\n}\n.t-manage-modules p,a{display:inline\n}\n.t-manage-modules a{float:right;margin-right:2rem\n}\n.t-manage-modules p:hover{color:#1e88e5\n}\n.t-modules-list{-ms-overflow-style:none;height:70vh;margin-bottom:5rem;opacity:1;overflow:-moz-scrollbars-none;overflow-x:hidden;overflow-y:scroll;position:relative;width:100%\n}\n.t-modules-list::-webkit-scrollbar{width:0\n}\n.pg-test-edit>textarea{background-color:#f5f5f5!important\n}\n.add-icon{clear:none;margin-right:5%;margin-top:-2rem;position:absolute;right:0;z-index:1\n}\n.test-case-category{margin:0;padding:0\n}\n.test-case-category li{display:inline;list-style:none;margin-right:1rem\n}\n.p-content-details{background-color:#fff;border-left:5px solid #43a047;margin-top:1.8rem;min-height:5rem;padding:1rem 1rem 1rem 1.5rem\n}\n.p-content-details pre{line-height:1.6rem;margin-left:.2rem\n}\n.p-content-tags{background-color:#f3e5f5;border-radius:10px;color:#6a1b9a;display:inline;font-size:.9rem;font-weight:400;padding:3px\n}\n.radio-inline{padding-left:1rem\n}\n.testcase_add label{font-size:1.1rem;margin:1rem 0 1rem .6rem\n}\n.testcase-category,.testcase-priority{background-color:#fff;border:1px solid #eee;line-height:1.5rem\n}\n.testcase-label{text-align:right!important\n}\n@media (max-width:576px){\n.testcase-label{text-align:left!important\n}\n}\n.paragraph-headings{margin:0 0 1.5rem\n}\n.t-test-main{border-bottom:1px solid #f5f5f5;margin-top:0\n}\n.t_test_main_open{margin-bottom:1rem;margin-top:1rem\n}\n.t-testcase-title{background-color:#fff;color:#000;display:block;font-size:.97rem;height:3.5rem;line-height:3.5rem;margin-top:0;overflow:hidden;padding:0 5rem 0 3rem;position:relative;text-overflow:ellipsis;white-space:nowrap;width:100%\n}\n.is_show_testcase_title{border-bottom:1px solid #e0e0e0\n}\n.t-show-steps{background-color:#fff;min-height:20rem;position:relative\n}\n.t-show-steps h6{color:#8e24aa;font-weight:400;margin:0 0 0 40px;padding-top:1.5rem\n}\n.t-show-steps pre{margin:0 0 0 40px;padding-top:.7rem\n}\n.img-roll-more{-webkit-transform:rotate(90deg);height:32px;margin-right:-3rem;margin-top:.7rem;position:relative;transform:rotate(90deg);width:32px\n}\n.img-roll-more,.roll-operate{display:inline-block;float:right\n}\n.roll-operate{background-color:#fff;padding-left:3rem;position:absolute;right:5rem;visibility:hidden;z-index:100\n}\n.showRollOperate{visibility:visible\n}\n.roll-operate img{display:inline;height:20px;margin-left:1rem;position:relative;width:20px\n}\n.t-testcase-title:hover .roll-operate{visibility:visible\n}\n.t_p1{background-color:rgba(245,107,107,.1);color:#f56c6c\n}\n.t_p1,.t_p2{border:1px solid #eee;border-radius:6px;font-weight:300;margin-left:-1.5rem;margin-right:1rem;padding:3px 10px\n}\n.t_p2{background-color:#e3f2fd;color:#1e88e5\n}\n.t_p3{background-color:#f1f8e9;border:1px solid #eee;border-radius:6px;color:#33691e;font-weight:300;margin-left:-1.5rem;margin-right:1rem;padding:3px 10px\n}\n.annex{position:relative\n}\n.annex:hover>img{-moz-opacity:.3;filter:alpha(Opacity=30);opacity:.3\n}\n.annex>img{border-radius:5px;height:148px;width:148px\n}\n.annex_delete{position:relative;right:90px;visibility:hidden;z-index:100\n}\n.h-annex{margin-top:-150px\n}\n.annex_delete>img{height:28px;width:28px\n}\n.annex:hover .annex_delete{visibility:visible\n}\n.img_scale{-webkit-transform:scale(3);position:relative;transform:scale(3);z-index:100\n}\n.review-area{margin-top:2rem\n}\n.review-box{border-top:1px solid #eee;font-size:.98rem;margin-top:2rem;min-height:5rem;outline:none;overflow-x:hidden;overflow-y:auto;padding:10px 18px 0;word-wrap:break-word\n}\n.review-area>.review-control{border:none;border-top:1px solid #eee;bottom:0;display:block;font-size:.9rem;line-height:1.6rem;min-height:5rem;outline:none;overflow:hidden;overflow-y:hidden;padding:.5rem 1rem 0;resize:none;right:0;width:100%\n}\n.custom-file{border:1px dashed #b2b2b2;display:inline-block;margin-bottom:0;min-height:5rem;position:relative;width:100%\n}\n.custom-file-input{line-height:5rem;margin:0;opacity:0;position:relative;width:100%;z-index:2\n}\n.custom-file-label{background-color:#fff;border:none;color:#757575;height:calc(2.25rem + 2px);line-height:1.5;margin-top:1.35rem;padding:.375rem .75rem;position:absolute;text-align:center;z-index:1\n}\n.custom-file-label:after{display:none\n}\n.file-upload-icon{height:36px;width:36px\n}\n.log-text-time,.log-text-user{font-size:.94rem\n}\n.log-text-user{color:#2973b7\n}\n.log-text-remark{background:#f5f5f5;border-radius:5px;color:#383838;margin-top:.7rem;padding:1rem;text-align:left!important;white-space:pre-line\n}\n.bug-query-selected{color:#9c27b0\n}\n.bug-query-selected-byme{color:#3f51b5\n}",""])},951:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mt-5",attrs:{id:"page-bug-details"}},["{}"!==JSON.stringify(t.BugDetails)?a("div",{staticClass:"container",attrs:{id:"bug-details"}},[a("div",{staticClass:"row",attrs:{id:"page-details-0"}},[a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12"},[a("h3",{staticClass:"details-title"},[t._v("\n          "+t._s(t.BID)+" "+t._s(t.BugDetails.title)+"\n        ")])]),t._v(" "),a("div",{staticClass:"col-xl-12 col-lg-12 col-md-12 my-4",attrs:{id:"page-details-1"}},[t.BtnRules.del?a("button",{staticClass:"btn btn-gray mr-3",attrs:{type:"btn"},on:{click:function(e){t.BugDelete()}}},[t._v("删除")]):t._e(),t._v(" "),t.BtnRules.edit?a("button",{staticClass:"btn btn-gray",attrs:{type:"btn"},on:{click:function(e){t.EditBug()}}},[t._v("编辑")]):t._e(),t._v(" "),a("div",{staticClass:"btn-group btn-group-toggle mx-3"},[t.BtnRules.assign?a("label",{staticClass:"btn btn-gray active"},[a("input",{attrs:{type:"radio",name:"options",id:"bug-designate",autocomplete:"off"},on:{click:function(e){t.skipAssign()}}}),t._v("分配\n          ")]):t._e(),t._v(" "),t.BtnRules.reopen?a("label",{staticClass:"btn btn-gray",attrs:{"data-toggle":"modal","data-target":"#modal-reopen"}},[a("input",{attrs:{type:"radio",name:"options",id:"bug-open",autocomplete:"off"}}),t._v("重新打开\n          ")]):t._e()]),t._v(" "),a("div",{staticClass:"btn-group btn-group-toggle",attrs:{"data-toggle":"buttons"}},[t.BtnRules.Recovered?a("label",{staticClass:"btn btn-gray",on:{click:function(e){t.immediateRecovered()}}},[a("input",{attrs:{type:"radio",name:"options",id:"bug-fixed",autocomplete:"off"}}),t._v("已解决\n          ")]):t._e(),t._v(" "),t.BtnRules.Recovered?a("label",{staticClass:"btn btn-gray",on:{click:function(e){t.skipRecovered("other")}}},[a("input",{attrs:{type:"radio",name:"options",id:"bug-other",autocomplete:"off"}}),t._v("其它解决方案\n          ")]):t._e()]),t._v(" "),t.BtnRules.close?a("button",{staticClass:"btn btn-gray ml-3",attrs:{type:"button"},on:{click:function(e){t.BugClosed()}}},[t._v("关闭")]):t._e(),t._v(" "),t.BtnRules.hangup?a("button",{staticClass:"btn btn-gray ml-3",attrs:{type:"button","data-toggle":"modal","data-target":"#modal-hangup"}},[t._v("延期挂起")]):t._e(),t._v(" "),t.BtnRules.notes?a("button",{staticClass:"btn btn-gray ml-3",attrs:{type:"button","data-toggle":"modal","data-target":"#modal-notes"}},[t._v("备注")]):t._e(),t._v(" "),a("button",{staticClass:"btn btn-gray ml-3",attrs:{type:"button"},on:{click:function(e){t.goBack()}}},[t._v("返回")])])]),t._v(" "),a("div",{staticClass:"row mt-5"},[a("div",{staticClass:"col-xl-8 col-lg-8 col-md-8",attrs:{id:"bug-details-2"}},[t.BugDetails.steps?a("div",{staticClass:"height-7 mb-5",attrs:{id:"bug-steps"}},[t._m(0),t._v(" "),a("pre",{staticClass:"details-block",domProps:{innerHTML:t._s(t.BugDetails_steps)}})]):t._e(),t._v(" "),t.BugDetails.reality_result?a("div",{staticClass:"height-7 mb-5",attrs:{id:"bug-reality-result"}},[t._m(1),t._v(" "),a("pre",{staticClass:"details-block",domProps:{innerHTML:t._s(t.reality_result)}})]):t._e(),t._v(" "),t.BugDetails.expected_result?a("div",{staticClass:"height-7 mb-5",attrs:{id:"bug-expected-result"}},[t._m(2),t._v(" "),a("pre",{staticClass:"details-block",domProps:{innerHTML:t._s(t.expected_result)}})]):t._e(),t._v(" "),t.Annex.length>0?a("div",{staticClass:"height-7 mb-5",attrs:{id:"bug-steps"}},[t._m(3),t._v("\n          ​"),a("picture",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},t._l(t.Annex,function(t){return a("div",{directives:[{name:"viewer",rawName:"v-viewer"}],key:t.id,staticClass:"col-xl-3 col-lg-3 col-md-4 col-sm-6 col-6 images"},[a("img",{staticClass:"img-thumbnail",attrs:{alt:"...",src:t.url}})])}))])]):t._e(),t._v(" "),t.BugDetails.remark?a("div",{staticClass:"height-7 mb-5",attrs:{id:"bug-details-3"}},[t._m(4),t._v(" "),a("div",{staticClass:"dropdown-divider"}),t._v(" "),a("pre",{staticClass:"details-block",domProps:{innerHTML:t._s(t.BugDetails_remark)}})]):t._e(),t._v(" "),a("div",{staticClass:"height-7 mb-5 text-gray-38 text-93",attrs:{id:"bug-details-history"}},[t._m(5),t._v(" "),a("div",{staticClass:"dropdown-divider"}),t._v(" "),a("div",{staticClass:"mt-3",attrs:{id:"bug-history-record"}},[a("ol",{staticClass:"pl-1"},t._l(t.history,function(e,i){return a("li",{key:e.id,staticClass:"my-2"},[t._v("\n                "+t._s(i+1)+".  "+t._s(t._f("date")(e.create_time))+" :\n                "),a("span",{staticClass:"log-text-user"},[t._v(t._s(e.username))]),t._v("\n                "+t._s(e.desc)+"\n                "),e.remark?a("pre",{staticClass:"log-text-remark text-90"},[t._v("                  "+t._s(e.remark)+"\n                ")]):t._e()])}))])])]),t._v(" "),a("div",{staticClass:"col-xl-4 col-lg-4 col-md-4",attrs:{id:"page-details-4"}},[a("div",{attrs:{id:"bug-details-desc"}},[t._m(6),t._v(" "),a("div",{staticClass:"dropdown-divider"}),t._v(" "),a("ul",{staticClass:"mt-3 pl-3 satellite_info"},[a("li",[a("label",[t._v("产品版本：")]),t._v(t._s(t.BugDetails.product_code)+" "+t._s(t.BugDetails.release)+"\n            ")]),t._v(" "),a("li",[a("label",[t._v("模块：")]),t._v(t._s(t.BugDetails.m1_name)+" "+t._s(t.BugDetails.m2_name)+"\n            ")]),t._v(" "),a("li",[a("label",[t._v("缺陷状态：")]),t._v(t._s(t.BugDetails.status_name)+"\n            ")]),t._v(" "),a("li",[a("label",[t._v("严重程度：")]),t._v(t._s(t.BugDetails.severity_name)+"\n            ")]),t._v(" "),a("li",[a("label",[t._v("优先级：")]),t._v(t._s(t.BugDetails.priority_name)+"\n            ")]),t._v(" "),a("li",[a("label",[t._v("解决方案：")]),t._v(t._s(t.BugDetails.solution_name)+"\n            ")])])]),t._v(" "),a("div",{attrs:{id:"bug-details-5"}},[t._m(7),t._v(" "),a("div",{staticClass:"dropdown-divider"}),t._v(" "),a("ul",{staticClass:"mt-3 pl-3 satellite_info"},[a("li",[a("label",[t._v("创建者：")]),t._v(t._s(t.BugDetails.creator_user)+"\n            ")]),t._v(" "),a("li",[a("label",[t._v("创建日期：")]),t._v(t._s(t._f("date")(t.BugDetails.create_time))+"\n            ")]),t._v(" "),a("li",[a("label",[t._v("指派给：")]),t._v(t._s(t.BugDetails.assignedTo_user)+"\n            ")]),t._v(" "),a("li",[a("label",[t._v("指派日期：")]),t._v(t._s(t._f("date")(t.BugDetails.assignedTo_time))+"\n            ")]),t._v(" "),a("li",[a("label",[t._v("解决人：")]),t._v(t._s(t.BugDetails.fixed_user)+"\n            ")]),t._v(" "),a("li",[a("label",[t._v("解决日期：")]),t._v(t._s(t._f("date")(t.BugDetails.fixed_time))+"\n            ")]),t._v(" "),a("li",[a("label",[t._v("关闭：")]),t._v(t._s(t.BugDetails.closed_user)+"\n            ")]),t._v(" "),a("li",[a("label",[t._v("关闭日期：")]),t._v(t._s(t._f("date")(t.BugDetails.closed_time))+"\n            ")])])]),t._v(" "),t.BugDetails.case_id?a("div",{staticClass:"pb-5",attrs:{id:"bug-details-relevancy"}},[t._m(8),t._v(" "),a("div",{staticClass:"dropdown-divider"}),t._v(" "),a("ul",{staticClass:"mt-3 pl-3 satellite_info"},[a("li",[a("label",[t._v("关联用例：")]),t._v(" "),a("nuxt-link",{attrs:{to:{path:"/app/qa/testcase/deatils",query:{case_id:t.BugDetails.case_id}}}},[t._v("\n                查看\n              ")])],1)])]):t._e()])])]):t._e(),t._v(" "),t.isShowLoading?a("div",{staticClass:"col text-center",attrs:{id:"page-loading"}},[a("loading")],1):t._e(),t._v(" "),t.showBugAssignBox?a("div",{attrs:{id:"bug-list-assign"}},[a("BugAssign",{attrs:{bug_id:t.currentBugId,product_code:t.product_code,pageSource:t.pageSource,member_list:t.member_list}})],1):t._e(),t._v(" "),t.showBugResolveBox?a("div",{attrs:{id:"bug-list-resolve"}},[a("BugResolve",{attrs:{bug_id:t.currentBugId,OpenBy:t.BugDetails.openedBy,product_code:t.product_code,scheme:t.scheme,pageSource:t.pageSource,member_list:t.member_list}})],1):t._e(),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modal-reopen",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(9),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group row col-md-auto mx-3"},[a("label",{attrs:{for:"assignedTo"}},[t._v("指派给")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.ReOpenData.assignedTo,expression:"ReOpenData.assignedTo"}],staticClass:"select-control border",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.ReOpenData,"assignedTo",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("请选择")]),t._v(" "),t._l(t.member_list,function(e){return a("option",{key:e.id,domProps:{value:e.user_id}},[t._v(t._s(e.realname))])})],2)]),t._v(" "),a("div",{staticClass:"form-group row col-md-auto mx-3"},[a("label",{attrs:{for:"remark"}},[t._v("原因")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.ReOpenData.remark,expression:"ReOpenData.remark"}],staticClass:"textarea-control form-border-bottom",attrs:{type:"text",rows:"5",placeholder:"请输入原因..."},domProps:{value:t.ReOpenData.remark},on:{input:function(e){e.target.composing||t.$set(t.ReOpenData,"remark",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-cancel",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.ReOpen()}}},[t._v("提交")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modal-notes",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(10),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group row col-md-auto mx-3"},[a("label",{attrs:{for:"remark"}},[t._v("备注")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.NotesData.remark,expression:"NotesData.remark"}],staticClass:"textarea-control form-border-bottom",attrs:{type:"text",rows:"7",placeholder:"请输入备注,2000字以内..."},domProps:{value:t.NotesData.remark},on:{input:function(e){e.target.composing||t.$set(t.NotesData,"remark",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-cancel",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.AddNotes()}}},[t._v("提交")])])])])]),t._v(" "),a("div",{staticClass:"modal fade",attrs:{id:"modal-hangup",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(11),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group row col-md-auto mx-3"},[a("label",{attrs:{for:"remark"}},[t._v("延期说明")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.HangUpData.remark,expression:"HangUpData.remark"}],staticClass:"textarea-control form-border-bottom",attrs:{type:"text",rows:"7",placeholder:"请输入备注,2000字以内..."},domProps:{value:t.HangUpData.remark},on:{input:function(e){e.target.composing||t.$set(t.HangUpData,"remark",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-cancel",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.HandUp()}}},[t._v("确定延期")])])])])])])};i._withStripped=!0;var n=a(0),s=a(4),o=a.n(s),r=a(829),l=a.n(r),d=(a(831),a(324)),u=a(460),c=a(459),m=a(307),g=a(105);n.default.use(l.a,{defaultOptions:{toolbar:{zoomOut:3,flipVertical:0,rotateLeft:4}}});var p={head:function(){return{title:"HDesk - "+this.BID+"缺陷详情"}},validate:function(t){return!!t.query.bug_id},layout:"head",components:{BugAssign:u.a,BugResolve:c.a,loading:d.a},data:function(){return{BugDetails:{},Annex:[],product_code:"",ResolveData:{bug_id:"",assignedTo:"",reamrk:"",solution:"Fixed"},AssignData:{bug_id:"",assignedTo:"",remark:""},ClosedData:{bug_id:""},ReOpenData:{bug_id:"",assignedTo:"",remark:""},NotesData:{bug_id:"",remark:""},HangUpData:{bug_id:"",remark:""},member_list:[],history:[],bug_idOpenBy:"",showBugAssignBox:!1,showBugResolveBox:!1,scheme:"",pageSource:"page_bug_details"}},filters:{date:m.a.date,CheckUrl:m.a.CheckUrl},watch:{BugStatus:function(t,e){this.BugHistory()},product_code:function(t,e){this.getMemberList()}},computed:{BtnRules:function(){return g.a.BugRules(this.BugDetails,this.$store.state.userInfo)},BID:function(){return this.BugDetails.id?this.BugDetails.id+"、":""},currentBugId:function(){return this.$route.query.bug_id},BugStatus:function(){return!!this.BugDetails&&this.BugDetails.status},isShowLoading:function(){return"{}"===JSON.stringify(this.BugDetails)?"1":null},expected_result:function(){return m.a.txt_deal_with(this.BugDetails.expected_result)},BugDetails_remark:function(){return m.a.txt_deal_with(this.BugDetails.remark)},reality_result:function(){return m.a.txt_deal_with(this.BugDetails.reality_result)},BugDetails_steps:function(){return m.a.txt_deal_with(this.BugDetails.steps)}},created:function(){this.getBugDetails()},methods:{getBugDetails:function(){var t=this;this.currentBugId&&o.a.get("/api/qa/bug/details?bug_id="+this.currentBugId).then(function(e){2e4===e.data.status&&(t.BugDetails=e.data.data,t.Annex=e.data.annex,t.product_code=e.data.data.product_code)})},getMemberList:function(){var t=this;o.a.get("/api/pm/member/list?product_code="+t.product_code).then(function(e){2e4===e.data.status&&(t.member_list=e.data.data)})},EditBug:function(){this.$router.push("/app/qa/bug/edit?bug_id="+this.currentBugId)},immediateRecovered:function(){var t=this;this.ResolveData.bug_id=this.currentBugId,this.ResolveData.assignedTo=this.BugDetails.creator_id,o()({method:"post",url:"/api/qa/bug/resolve",data:JSON.stringify(this.ResolveData)}).then(function(e){2e4===e.data.status?(t.$router.go(-1),t.$notify.success({title:"成功",message:e.data.msg})):t.$notify.error({title:"错误",message:e.data.msg})})},skipRecovered:function(t){this.showBugResolveBox=!0,this.scheme=t,$("#componentsResolve").modal("show")},skipAssign:function(){this.showBugAssignBox=!0,$("#componentsAssign").modal("show")},BugDelete:function(){var t=this;o.a.get("/api/qa/bug/delete?bug_id="+this.currentBugId).then(function(e){2e4===e.data.status?(t.$router.go(-1),t.$notify.success({title:"成功",message:e.data.msg})):t.$notify.error({title:"失败",message:e.data.msg})})},BugClosed:function(){var t=this;this.ClosedData.bug_id=this.currentBugId,o()({method:"post",url:"/api/qa/bug/close",data:JSON.stringify(this.ClosedData)}).then(function(e){2e4===e.data.status?(t.$notify.success({title:"成功",message:e.data.msg}),t.$router.go(-1)):t.$notify.error({title:"错误",message:e.data.msg})})},ReOpen:function(){if(this.ReOpenData.bug_id=this.currentBugId,""===this.ReOpenData.assignedTo)return this.$notify.error({title:"错误",message:"请选择指派人"});if(this.ReOpenData.remark.length>1e3|this.ReOpenData.remark.length<5)return this.$notify.error({title:"错误",message:"重新打开缺陷，原因不能为空哦"});var t=this;o()({method:"post",url:"/api/qa/bug/reopen",data:JSON.stringify(this.ReOpenData)}).then(function(e){2e4===e.data.status?(t.$router.go(-1),$("#modal-reopen").modal("hide"),t.$notify.success({title:"成功",message:e.data.msg})):t.$notify.error({title:"错误",message:e.data.msg})})},HandUp:function(){var t=this;this.HangUpData.bug_id=this.currentBugId,o()({method:"post",url:"/api/qa/bug/hangup",data:JSON.stringify(this.HangUpData)}).then(function(e){2e4===e.data.status?(t.$router.go(-1),$("#modal-hangup").modal("hide"),t.$notify.success({title:"成功",message:e.data.msg})):t.$notify.error({title:"错误",message:e.data.msg})})},BugHistory:function(){var t=this;o.a.get("/api/qa/bug/history?bug_id="+this.currentBugId).then(function(e){2e4===e.data.status&&(t.history=e.data.data)})},AddNotes:function(){var t=this;this.NotesData.bug_id=this.currentBugId,o()({method:"post",url:"/api/qa/bug/add_notes",data:JSON.stringify(this.NotesData)}).then(function(e){2e4===e.data.status?(t.BugHistory(),$("#modal-notes").modal("hide"),t.$notify.success({title:"成功",message:e.data.msg})):t.$notify.error({title:"错误",message:e.data.msg})})},goBack:function(){this.$router.go(-1)}}},v=(a(833),a(10)),_=Object(v.a)(p,i,[function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"bug-details-minor-title"},[e("span",{staticClass:"standline"}),this._v("  操作步骤")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"bug-details-minor-title"},[e("span",{staticClass:"redline"}),this._v("  实际结果")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"bug-details-minor-title"},[e("span",{staticClass:"successline"}),this._v("  预期结果")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"bug-details-minor-title"},[e("span",{staticClass:"grayline"}),this._v("  附件")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"bug-details-minor-title"},[e("span",{staticClass:"grayline"}),this._v("  附加信息")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"bug-details-minor-title"},[e("span",{staticClass:"grayline"}),this._v("  活动记录")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"bug-details-minor-title"},[e("span",{staticClass:"grayline"}),this._v("  详情\n          ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"bug-details-minor-title"},[e("span",{staticClass:"grayline"}),this._v("  人员/日期\n          ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h6",{staticClass:"bug-details-minor-title"},[e("span",{staticClass:"grayline"}),this._v("  关联的测试用例\n          ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("重新打开缺陷")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("添加备注")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("挂起延期")])])}],!1,null,null,null);_.options.__file="deatils.vue";e.default=_.exports}}]);