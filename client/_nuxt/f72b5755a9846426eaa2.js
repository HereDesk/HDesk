(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{331:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row my-5",attrs:{id:"data-paging"}},[a("div",{staticClass:"col-auto mr-auto"},[t.total>t.pageSize?a("nav",{attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"pagination"},[t.FirstPage!=t.pageNumber&t.LastPage>5?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:function(e){t.handleChange("pn",e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("<")])])]):t._e(),t._v(" "),t._l(t.PageList,function(e){return a("li",{key:e.id,staticClass:"page-item",class:{active:e===parseInt(t.pageNumber),disabled:"..."==e},on:{click:function(e){t.handleChange("pn",e)}}},[a("a",{staticClass:"page-link"},[t._v(t._s(e))])])}),t._v(" "),t.LastPage!=t.pageNumber&t.LastPage>5?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{"aria-label":"Next"},on:{click:function(e){t.handleChange("pn",e)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v(">")])])]):t._e()],2)]):t._e()]),t._v(" "),t.total?a("div",{staticClass:"col-auto pagination pt-2"},[t.total>0?a("span",[t._v("共 "+t._s(t.total)+" 条 ")]):t._e(),t._v(" "),t.total>=10?a("span",{on:{click:function(e){t.handleChange("ps",e)}}},[t._v(t._s(t.pageSize)+"条/页")]):t._e()]):t._e()])])};s._withStripped=!0;a(333),a(4);var i={props:{total:Number},data:function(){return{FirstPage:1,pageNumber:this.$route.query.pageNumber||1,pageSize:this.$route.query.pageSize||10}},computed:{LastPage:function(){return Math.ceil(this.total/this.pageSize)},PageList:function(){new Array;var t=parseInt(this.LastPage),e=parseInt(this.pageNumber);if(t<=5){for(var a=new Array,s=0;s<t;s++)a.push(s+1);return a}return 6==t?[1,2,3,4,5,6]:t>6?1==e|e==t?[1,2,"...",t-1,t]:2==e?[1,2,"...",t-1,t]:e==t-1?[1,2,"...",e,t]:[1,"...",e,"...",t]:void 0}},methods:{handleChange:function(t,e){if("ps"===t&&this.pageSize<50&&(this.pageNumber=1,this.pageSize=parseInt(this.pageSize)+20),"pn"===t){var a=e.target.innerText;">"==a&&(this.pageNumber=parseInt(this.pageNumber)+1),"<"==a&&(this.pageNumber=parseInt(this.pageNumber)-1),parseInt(a)&&(this.pageNumber=a)}this.$emit("PsPn",this.pageSize,this.pageNumber)}}},r=a(10),n=Object(r.a)(i,s,[],!1,null,null,null);n.options.__file="Pagination.vue";e.a=n.exports},333:function(t,e,a){"use strict";var s=a(3),i=a(21),r=a(26),n=a(153),o=a(71),l=a(12),c=a(72).f,u=a(107).f,A=a(11).f,d=a(337).trim,p=s.Number,g=p,v=p.prototype,m="Number"==r(a(106)(v)),b="trim"in String.prototype,f=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){var a,s,i,r=(e=b?e.trim():d(e,3)).charCodeAt(0);if(43===r||45===r){if(88===(a=e.charCodeAt(2))||120===a)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:s=2,i=49;break;case 79:case 111:s=8,i=55;break;default:return+e}for(var n,l=e.slice(2),c=0,u=l.length;c<u;c++)if((n=l.charCodeAt(c))<48||n>i)return NaN;return parseInt(l,s)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof p&&(m?l(function(){v.valueOf.call(a)}):"Number"!=r(a))?n(new g(f(e)),a,p):f(e)};for(var h,_=a(7)?c(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;_.length>w;w++)i(g,h=_[w])&&!i(p,h)&&A(p,h,u(g,h));p.prototype=v,v.constructor=p,a(14)(s,"Number",p)}},337:function(t,e,a){var s=a(13),i=a(25),r=a(12),n=a(338),o="["+n+"]",l=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),u=function(t,e,a){var i={},o=r(function(){return!!n[t]()||"​"!="​"[t]()}),l=i[t]=o?e(A):n[t];a&&(i[a]=l),s(s.P+s.F*o,"String",i)},A=u.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},338:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},811:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAWlBMVEUAAADYHQXZGwTcGgDYHQXYHgXYHQXYHAXYHQXkEwDYHQXXHQbYHQXYHQXXHAbcGQDXHQbYHQXYHQbZHQXZHAPbGgLcGgDYHgbYHQbZHQbbGwXcHADZHgXYHgbCr2fJAAAAHXRSTlMAf0AZ9vDAMOgHj+HFoIce28y1bE0pI92sVjgSXx+AHrYAAAC1SURBVCjPrdHZDsIgFEXRy9BCtS2dB+v5/9+UIVGaehMf3G9kAWGg/zY3Y8WZ0cDAoYDvutRJXzV56y62WPisaWy/X85hEStMnClcZqaAXegW9BFH7cmKORqgpdS4qw9aaBMs6dmo9pslGyaNZHlttLKiSTNWh+sr1vKeItYg1h+5Sbxbw4E69xVXFd+8pqyxTA0q/UhBXDvQsyiAhsUNGFnsAMlZBeDg0ACWuBywEZsUin7rBWcbEbS9JM90AAAAAElFTkSuQmCC"},812:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAVFBMVEUAAABvb29wcHBwcHBvb29wcHBvb29wcHBvb29wcHBvb29wcHBvb29ubm5vb29vb29wcHBwcHBvb29tbW1vb29vb29wcHBqampvb29wcHBxcXFwcHAsYoXtAAAAG3RSTlMAGoDA8t3mQQf2K487McmIoWZNI7KqVhLOnW+6enUGAAAAt0lEQVQoz63S2Q6DIBCFYURWxX1re97/PctIbTV00pv+Fyb6OQQSxH+r+sFx1nhg5lAilo8W1trgxmg6s8kgZpretGu2j2iUqvY/ZXE2BTOJmjTEXSl0h9AbjZABPgQPfZo0UA1Z0quJUoWXlaMH2bUumROjYo0O/N1ask+D3Ouxd9vOZvFO1/QockyfJS18WbZMzXGEVAmulSa5JHBncQEeLGrAcuYAbBxWgBFcBbAINntcjp89AfaVECyp4cSdAAAAAElFTkSuQmCC"},813:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAWlBMVEUAAAAAv6QAv6UAwacAvqUAv6QAxKoAv6QAv6QAv6UAwqUAwqYAv6UAvqUAvqUAv6UAvqUAv6QAv6UAv6UAv6QAv6QAv6UAwKQAvagAv6UAv6YAwKMAv6QAv6WZxfTdAAAAHXRSTlMA8oAcv0EKj9s1Lif45uDFoOrMsodsVD0XqksSX3Izb20AAAC2SURBVCjPrdLbDoMgEEXRQQsiSkWt957//812aEIwdtKX7gcTsnISNNJ/a8JkJHMKGCUs8O46LbXWi9kB2Kt53ngX+mG+3KNHTLl4KsrzPfqGKtaaqFaoEvFJsXHtsijcs6XnAVvU9mTUJRvnFmznHtFuhnYlWMevv4qW9yxiAbHhyE0jZSt+lF/RrvGbd5Q13T6NKxGrIqkZGCTjZRBxAyYRLaAlMwAOCR3gSaoENhLT6ef41QuEaRHN5wCbuAAAAABJRU5ErkJggg=="},814:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAOVBMVEUAAABwcHBwcHBwcHBvb29tbW1wcHBtbW1vb29tbW1wcHBtbW1vb29wcHBubm5vb29vb29vb29wcHAWkqlzAAAAEnRSTlMAgMA/eAryIVwqUBeyphCWRmxp89VEAAAAqUlEQVQoz7XSUQ6EIAxF0VewDIOIyv4XO1XJNA399X4Q9QRNLHizNRMRQ9YMJllXtZK6xAi9B3CXUvnvu03x1jYwy81WIh5EzFUelIEkBmmgJLooRouHwQ+AD7UYG12X3wmxd2mHj9iej/vItbKLjzJc1Hw8g3T6yKlLiV1c+t0y49g4tgqS+X1HGB1ANLjBtF+v1ZHVHDW6RqbDnkpNj8lkxRwwU17xYj++Bw68nidlyQAAAABJRU5ErkJggg=="},954:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"page-testcase-execution"}},[s("nav",{staticClass:"d-flex mt-5"},[s("a",{staticClass:"navbar-brand flex-grow-1"},[t._v("TestSuite "+t._s(t.childValue))]),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("el-table",{attrs:{data:t.tableData,"default-sort":{prop:"date",order:"descending"}}},[s("el-table-column",{attrs:{label:"ID",prop:"id",width:"80"}}),t._v(" "),s("el-table-column",{attrs:{label:"产品",prop:"product_code",width:"110"}}),t._v(" "),s("el-table-column",{attrs:{label:"执行版本",prop:"suite_name",width:"200"}}),t._v(" "),s("el-table-column",{attrs:{label:"总数",prop:"total",width:"80"}}),t._v(" "),s("el-table-column",{attrs:{label:"已执行",prop:"executed",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{label:"未执行",prop:"not_execution",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{label:"成功",prop:"success",width:"90"}}),t._v(" "),s("el-table-column",{attrs:{label:"失败",prop:"fail",width:"90"}}),t._v(" "),s("el-table-column",{attrs:{label:"发现缺陷",prop:"bug_num",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[0!==e.row.bug_num?s("span",[t._v(t._s(e.row.bug_num))]):s("span",[t._v("-")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.total>0?s("span",{staticClass:"mr-3"},[s("nuxt-link",{attrs:{to:{path:"/app/qa/testsuite/run",query:{suite_id:e.row.suite_id,product_code:e.row.product_code}}}},[e.row.executed===e.row.total&&0!==e.row.executed?s("img",{attrs:{src:a(811),title:"运行完成"}}):0===e.row.total||0===e.row.executed?s("img",{attrs:{src:a(812),title:"待运行"}}):s("img",{attrs:{src:a(813),title:"运行中"}})])],1):t._e(),t._v(" "),s("span",[s("nuxt-link",{attrs:{to:{path:"/app/qa/testsuite/loader",query:{product_code:e.row.product_code,suite_id:e.row.suite_id}}}},[s("img",{attrs:{src:a(814),title:"组织测试用例"}})])],1)]}}])})],1)],1)]),t._v(" "),s("Pagination",{attrs:{total:t.total},on:{PsPn:t.getPsPn}}),t._v(" "),s("div",{staticClass:"modal fade",attrs:{id:"m-create",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),t._v(" "),s("div",{staticClass:"modal-body my-3"},[s("div",{staticClass:"form-group row col-md-auto mx-3"},[s("label",{staticClass:"col-sm-2 pt-2",attrs:{for:"product_code"}},[t._v("产品")]),t._v(" "),s("el-select",{staticClass:"col-sm-9 px-0",attrs:{placeholder:"请选择产品"},model:{value:t.TestSuiteCreate.product_code,callback:function(e){t.$set(t.TestSuiteCreate,"product_code",e)},expression:"TestSuiteCreate.product_code"}},t._l(t.product_list,function(t){return s("el-option",{key:t.product_code,attrs:{label:t.product_code,value:t.product_code}})}))],1),t._v(" "),s("div",{staticClass:"form-group row col-md-auto mx-3"},[s("label",{staticClass:"col-sm-2 pt-2",attrs:{for:"name"}},[t._v("执行版本")]),t._v(" "),s("div",{staticClass:"col-sm-9 px-0"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.TestSuiteCreate.suite_name,expression:"TestSuiteCreate.suite_name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",maxlength:"20",rows:"5",placeholder:"请输入执行集名称..."},domProps:{value:t.TestSuiteCreate.suite_name},on:{input:function(e){e.target.composing||t.$set(t.TestSuiteCreate,"suite_name",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),t._v(" "),s("p",{staticClass:"text-notes"},[t._v("备注：如v1.0_20180920")])])])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-cancel",attrs:{type:"button","data-dismiss":"modal"}},[t._v("关闭")]),t._v(" "),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:function(e){t.createTestSuite()}}},[t._v("提交")])])])])])],1)};s._withStripped=!0;var i=a(4),r=a.n(i),n={layout:"head",components:{Pagination:a(331).a},data:function(){return{childValue:"",current_product_code:null,total:null,tableData:[],QueryBuilder:{pageSize:10,pageNumber:1,product_code:"oneone"},TestSuiteCreate:{product_code:null,suite_name:null}}},watch:{QueryBuilder:{handler:function(t,e){this.getTestSuite()},deep:!0}},computed:{product_list:function(){return this.$store.state.ProductInfo.data?this.$store.state.ProductInfo.data:[]}},created:function(){this.$store.state.isProductInfo||this.$store.dispatch("getProductRelease")},mounted:function(){this.getTestSuite()},methods:{getPsPn:function(t,e){this.QueryBuilder.pageSize=t,this.QueryBuilder.pageNumber=e},getTestSuite:function(){var t=this;r.a.get("/api/qa/testsuite/list",{params:this.QueryBuilder}).then(function(e){2e4===e.data.status?(t.tableData=e.data.data,t.total=e.data.total):t.$notify.error({title:"提示",message:e.data.msg})})},createTestSuite:function(){var t=this.TestSuiteCreate;if(t.product_code)if(t.suite_name){var e=this;r()({method:"POST",url:"/api/qa/testsuite/create",data:JSON.stringify(this.TestSuiteCreate)}).then(function(t){2e4===t.data.status?($("#m-create").modal("hide"),e.getTestSuite(),e.$notify.success({title:"成功",message:t.data.msg})):e.$notify.error({title:"提示",message:t.data.msg})})}else this.$notify.error({title:"提示",message:"名字无效哦"});else this.$notify.error({title:"提示",message:"请选择产品"})}}},o=a(10),l=Object(o.a)(n,s,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pt-3"},[e("button",{staticClass:"btn btn-create",attrs:{type:"btn","data-toggle":"modal","data-target":"#m-create"}},[this._v(" + TestSuite")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("创建")])])}],!1,null,null,null);l.options.__file="index.vue";e.default=l.exports}}]);