(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{307:function(e,t,a){"use strict";a(40),a(41);t.a={txt_deal_with:function(e){return e.replace(/(((https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/gi,function(e){return'<a href="'+e+'" target="_blank">'+e+"</a>"})},getWeek:function(e){return e?new Date(e).getDay():""},date:function(e,t){if(!e)return"";var a=new Date(e),n=a.getFullYear(),s=a.getMonth()+1,r=a.getDate(),i=a.getHours(),u=a.getMinutes(),l=a.getSeconds(),o=function(e){return/^\d$/.test(e)?"0"+e:e};return t&&1!=t?2==t?o(s)+"/"+o(r)+" "+o(i)+":"+o(u):3==t?n+"-"+o(s)+"-"+o(r):4==t?o(i)+":"+o(u)+":"+o(l):5==t?o(n)+"/"+o(s)+"/"+o(r):void 0:n+"-"+o(s)+"-"+o(r)+" "+o(i)+":"+o(u)+":"+o(l)},bugStatusName:function(e){var t,a=[{code:"all",name:"全部"},{code:"New",name:"新建未分配"},{code:"Open",name:"待解决"},{code:"Reopen",name:"重新打开"},{code:"Hang-up",name:"挂起延期"},{code:"Fixed",name:"已解决"},{code:"Closed",name:"已关闭"}];for(t in a)if(a[t].code==e)return a[t].name},getOperatorsName:function(e){var t,a=[{value:"=",name:"="},{value:"!=",name:"!="},{value:">=",name:">="},{value:"<=",name:"<="},{value:">",name:">"},{value:"<",name:"<"},{value:"and",name:"and"},{value:"or",name:"or"},{value:"range",name:"范围"}];for(t in a)if(a[t].value==e)return a[t].name},getSearchTypeName:function(e){var t,a=[{value:"ID",name:"缺陷ID"},{value:"title",name:"缺陷标题"},{value:"priority",name:"优先级"},{value:"severity",name:"严重程度"},{value:"bug_type",name:"缺陷类型"},{value:"creator_user",name:"创建者"},{value:"closed_user",name:"关闭者"},{value:"fixed_user",name:"解决者"},{value:"assignedTo_user",name:"指派谁"},{value:"create_time",name:"创建日期"},{value:"closed_time",name:"关闭日期"},{value:"fixed_time",name:"解决日期"}];for(t in a)if(a[t].value==e)return a[t].name},QuickQperationName:function(e){var t,a=[{value:"no",name:"无"},{value:"WaitPending",name:"待我处理"},{value:"AssignedByMe",name:"指派给我"},{value:"ResolvedByMe",name:"我解决的"},{value:"ClosedByMe",name:"我关闭的"},{value:"CreatedByMe",name:"我创建的"},{value:"notClosed",name:"未关闭的"},{value:"NotResolved",name:"未解决的"},{value:"HighPriority",name:"高优先级"}];for(t in a)if(a[t].value==e)return a[t].name},flowdesc:function(e){var t,a=[{status:-1,name:"不涉及此项"},{status:0,name:"未开始"},{status:1,name:"设计中"},{status:2,name:"开发中"},{status:3,name:"开发完成"},{status:4,name:"待调试"},{status:5,name:"调试中"},{status:6,name:"调试"},{status:7,name:"进入测试"},{status:8,name:"测试中"},{status:9,name:"存在Bug"},{status:10,name:"修复Bug中"},{status:11,name:"回归Bug"},{status:12,name:"测试通过"},{status:13,name:"已上线"}];for(t in a)if(a[t].status==e)return a[t].name}}},331:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row my-5",attrs:{id:"data-paging"}},[a("div",{staticClass:"col-auto mr-auto"},[e.total>e.pageSize?a("nav",{attrs:{"aria-label":"Page navigation"}},[a("ul",{staticClass:"pagination"},[e.FirstPage!=e.pageNumber&e.LastPage>5?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:function(t){e.handleChange("pn",t)}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("<")])])]):e._e(),e._v(" "),e._l(e.PageList,function(t){return a("li",{key:t.id,staticClass:"page-item",class:{active:t===parseInt(e.pageNumber),disabled:"..."==t},on:{click:function(t){e.handleChange("pn",t)}}},[a("a",{staticClass:"page-link"},[e._v(e._s(t))])])}),e._v(" "),e.LastPage!=e.pageNumber&e.LastPage>5?a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link",attrs:{"aria-label":"Next"},on:{click:function(t){e.handleChange("pn",t)}}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v(">")])])]):e._e()],2)]):e._e()]),e._v(" "),e.total?a("div",{staticClass:"col-auto pagination pt-2"},[e.total>0?a("span",[e._v("共 "+e._s(e.total)+" 条 ")]):e._e(),e._v(" "),e.total>=10?a("span",{on:{click:function(t){e.handleChange("ps",t)}}},[e._v(e._s(e.pageSize)+"条/页")]):e._e()]):e._e()])])};n._withStripped=!0;a(333),a(4);var s={props:{total:Number},data:function(){return{FirstPage:1,pageNumber:this.$route.query.pageNumber||1,pageSize:this.$route.query.pageSize||10}},computed:{LastPage:function(){return Math.ceil(this.total/this.pageSize)},PageList:function(){new Array;var e=parseInt(this.LastPage),t=parseInt(this.pageNumber);if(e<=5){for(var a=new Array,n=0;n<e;n++)a.push(n+1);return a}return 6==e?[1,2,3,4,5,6]:e>6?1==t|t==e?[1,2,"...",e-1,e]:2==t?[1,2,"...",e-1,e]:t==e-1?[1,2,"...",t,e]:[1,"...",t,"...",e]:void 0}},methods:{handleChange:function(e,t){if("ps"===e&&this.pageSize<50&&(this.pageNumber=1,this.pageSize=parseInt(this.pageSize)+20),"pn"===e){var a=t.target.innerText;">"==a&&(this.pageNumber=parseInt(this.pageNumber)+1),"<"==a&&(this.pageNumber=parseInt(this.pageNumber)-1),parseInt(a)&&(this.pageNumber=a)}this.$emit("PsPn",this.pageSize,this.pageNumber)}}},r=a(10),i=Object(r.a)(s,n,[],!1,null,null,null);i.options.__file="Pagination.vue";t.a=i.exports},333:function(e,t,a){"use strict";var n=a(3),s=a(21),r=a(26),i=a(153),u=a(71),l=a(12),o=a(72).f,c=a(107).f,p=a(11).f,d=a(337).trim,v=n.Number,g=v,m=v.prototype,A="Number"==r(a(106)(m)),f="trim"in String.prototype,h=function(e){var t=u(e,!1);if("string"==typeof t&&t.length>2){var a,n,s,r=(t=f?t.trim():d(t,3)).charCodeAt(0);if(43===r||45===r){if(88===(a=t.charCodeAt(2))||120===a)return NaN}else if(48===r){switch(t.charCodeAt(1)){case 66:case 98:n=2,s=49;break;case 79:case 111:n=8,s=55;break;default:return+t}for(var i,l=t.slice(2),o=0,c=l.length;o<c;o++)if((i=l.charCodeAt(o))<48||i>s)return NaN;return parseInt(l,n)}}return+t};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof v&&(A?l(function(){m.valueOf.call(a)}):"Number"!=r(a))?i(new g(h(t)),a,v):h(t)};for(var _,w=a(7)?o(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;w.length>b;b++)s(g,_=w[b])&&!s(v,_)&&p(v,_,c(g,_));v.prototype=m,m.constructor=v,a(14)(n,"Number",v)}},337:function(e,t,a){var n=a(13),s=a(25),r=a(12),i=a(338),u="["+i+"]",l=RegExp("^"+u+u+"*"),o=RegExp(u+u+"*$"),c=function(e,t,a){var s={},u=r(function(){return!!i[e]()||"​"!="​"[e]()}),l=s[e]=u?t(p):i[e];a&&(s[a]=l),n(n.P+n.F*u,"String",s)},p=c.trim=function(e,t){return e=String(s(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(o,"")),e};e.exports=c},338:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},921:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAZlBMVEUAAAAAv6UAwKYAvqUAv6UAv6UAv6QAv6UAv6UAwq4Av6UAvqQAv6UAv6UAv6UAwKQAv6YAv6UAvqUAvqUAv6UAv6UAwaQAw6UAv6QAxaIAv6UAvqQAv6QAv6QAvqMAvqYAv6UAv6U/0KXrAAAAIXRSTlMAfEXZlA3lsaoI78mNgGhlWPvhoWxdMyIcFt+ac3BOPzCDnRXiAAAAoUlEQVQoz8XQ2w6DIAyA4YqCooC4zenO6/u/5BhhsWXc+19AwpeQAuzc5fmwVhRJDBirnc5Jdl9IvGY3KiSpheGArIMkNmNWRbCm0HnEfrM3MxjDur3oTuwIM7+3oTbGveFofVhu0RhWGGq1C0env3EFRoVXMjYQ9GnOKhF9yu9wKH6CvCJLSSAtitp0BtZak28PxtMu8WQ0FBKmbY2XsGsf1yYhHxrFoHIAAAAASUVORK5CYII="},922:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAclBMVEUAAAArKysfHx8rKysrKyssLCwqKiojIyMrKysrKysrKysqKioqKioqKiopKSkrKysrKysrKysrKysqKiopKSkpKSkrKysrKyssLCwsLCwqKiorKysqKiosLCwqKiooKCgsLCwrKysrKysqKiorKyssLCyhb3mOAAAAJXRSTlMAZwX0qGJVC1L34nhbMxfUzK5uQC8Z8du1mJBOSSgkELuPgVlIbcf0nwAAAL5JREFUKM+NklkSgyAMQIMKqHVfWttau+b+V6wKiiAz+H4y4QETQuAwbZpmVuGxwMcRPwg905EYV2KiKd6hRsk3LkeDQl19xR23xfVooZZ1XmwyF/IrsqYS8TREcwxnWcpFoCIQkQez9FFApuUPJDI9Ty7DBQrVG9iaPkfZ4EoCcFfZQ5d0J9uNq0PjWk8V1EfIVEH6U1g0HdefIrcOVMQqk01wtw9+1sYf+TLgheWzlX3pruPOAbOPpmuo3fwBCM08fN+gzuoAAAAASUVORK5CYII="},926:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"page-testcase-run"}},[e._m(0),e._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col"},[n("el-table",{attrs:{data:e.tableData,"default-sort":{prop:"date",order:"descending"}}},[n("el-table-column",{attrs:{label:"用例ID",prop:"id",width:"80"}}),e._v(" "),n("el-table-column",{attrs:{label:"标题",prop:"title"}}),e._v(" "),n("el-table-column",{attrs:{label:"执行结果",prop:"result",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.result?n("span",{staticClass:"text-secondary"},[n("span",{staticClass:"circle circle-secondary"}),e._v("  未运行\n            ")]):e._e(),e._v(" "),-1===t.row.result?n("span",{staticClass:"text-urgency"},[n("span",{staticClass:"circle circle-urgency"}),e._v("  失败\n            ")]):1===t.row.result?n("span",{staticClass:"text-success"},[n("span",{staticClass:"circle circle-success"}),e._v("  通过\n            ")]):e._e()]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"执行人",prop:"runner",width:"100"}}),e._v(" "),n("el-table-column",{attrs:{label:"执行时间",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(e._f("date")(t.row.run_time)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"缺陷",prop:"bug_id",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.bug_id,function(t){return n("span",{key:t.id},[n("a",{staticStyle:{color:"#212121"},attrs:{href:"/app/qa/bug/deatils?bug_id="+t.bug_id,target:"_blank"}},[e._v("查看")])])})}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{class:{invisible:0!==t.row.result}},[n("img",{staticClass:"mr-3",attrs:{src:a(921),title:"运行成功"},on:{click:function(a){e.run("1",t.row.cell_id,e.case_id)}}}),e._v(" "),n("img",{attrs:{src:a(922),title:"运行失败"},on:{click:function(a){e.run("-1",t.row.cell_id,t.row.case_id)}}})])]}}])})],1)],1)]),e._v(" "),n("Pagination",{attrs:{total:e.total},on:{PsPn:e.getPsPn}})],1)};n._withStripped=!0;var s=a(4),r=a.n(s),i=a(307),u=(a(105),{layout:"head",components:{Pagination:a(331).a},validate:function(e){var t=e.query;return!(!t.suite_id||!t.product_code)},data:function(){return{tableData:[],total:null,product_code:this.$route.query.product_code,QueryBuilder:{pageSize:10,pageNumber:1,suite_id:this.$route.query.suite_id},RunData:{cell_id:null,result:null}}},watch:{QueryBuilder:{handler:function(e,t){this.getTestCaseRunList()},deep:!0}},filters:{date:i.a.date},mounted:function(){this.getTestCaseRunList()},methods:{getPsPn:function(e,t){this.QueryBuilder.pageSize=e,this.QueryBuilder.pageNumber=t},getTestCaseRunList:function(){var e=this;r.a.get("/api/qa/testsuite/cell/list",{params:this.QueryBuilder}).then(function(t){2e4===t.data.status?(e.tableData=t.data.data,e.total=t.data.total):e.$notify.error({title:"提示",message:t.data.msg})})},run:function(e,t,a){var n=this;this.RunData.result=e,this.RunData.cell_id=t,r()({method:"post",url:"/api/qa/testsuite/cell/run",data:JSON.stringify(this.RunData)}).then(function(s){if(2e4===s.data.status){if(n.getTestCaseRunList(),console.log(e),"-1"===e){var r="/app/qa/bug/add?case_id="+a+"&cell_id="+t;n.$router.push(r)}}else n.$notify.error({title:"错误",message:s.data.msg})})}}}),l=a(10),o=Object(l.a)(u,n,[function(){var e=this.$createElement,t=this._self._c||e;return t("nav",{staticClass:"d-flex mt-5"},[t("a",{staticClass:"navbar-brand flex-grow-1"},[this._v("运行测试用例")]),this._v(" "),t("div",{staticClass:"pt-3"})])}],!1,null,null,null);o.options.__file="run.vue";t.default=o.exports}}]);